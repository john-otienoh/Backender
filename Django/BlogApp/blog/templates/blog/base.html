{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %} {% endblock %} </title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <link rel="stylesheet" href="{% static 'css/style.css' %}" />
</head>
<body class="bg-background min-h-screen">
    <!-- Sticky Header -->
    <header class="sticky top-0 z-50 bg-surface shadow-editorial-sm border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <a href="blog_list_discovery.html" class="flex items-center space-x-2">
                        <svg class="w-8 h-8 text-accent" viewBox="0 0 32 32" fill="currentColor">
                            <path d="M4 6h24v2H4V6zm0 5h24v2H4v-2zm0 5h16v2H4v-2zm0 5h24v2H4v-2zm20-10v8l4-4-4-4z"/>
                        </svg>
                        <span class="font-heading font-bold text-xl text-primary">BlogCraft</span>
                    </a>
                </div>

                <!-- Desktop Navigation -->
                <nav class="hidden md:flex items-center space-x-8">
                    <a href="blog_list_discovery.html" class="text-accent font-medium border-b-2 border-accent pb-1">Discover</a>
                    <a href="create_edit_blog_post.html" class="text-text-secondary hover:text-primary transition-colors">Write</a>
                    <a href="user_dashboard.html" class="text-text-secondary hover:text-primary transition-colors">Dashboard</a>
                </nav>

                <!-- Search & User Menu -->
                <div class="flex items-center space-x-4">
                    <!-- Search Button -->
                    <button id="searchToggle" class="p-2 text-text-secondary hover:text-primary transition-colors">
                        <i class="fas fa-search text-lg"></i>
                    </button>
                    
                    <!-- User Menu -->
                    <div class="relative">
                        <button id="userMenuToggle" class="flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors">
                            <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face" alt="User Avatar" class="w-8 h-8 rounded-full object-cover" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                            <i class="fas fa-chevron-down text-sm text-text-secondary"></i>
                        </button>
                        
                        <!-- Dropdown Menu -->
                        <div id="userDropdown" class="absolute right-0 mt-2 w-48 bg-surface rounded-lg shadow-editorial-md border border-gray-200 hidden">
                            <div class="py-2">
                                <a href="user_dashboard.html" class="block px-4 py-2 text-sm text-text-primary hover:bg-gray-50">Dashboard</a>
                                <a href="create_edit_blog_post.html" class="block px-4 py-2 text-sm text-text-primary hover:bg-gray-50">Write Post</a>
                                <hr class="my-2 border-gray-200" />
                                <a href="user_login.html" class="block px-4 py-2 text-sm text-text-primary hover:bg-gray-50">Sign Out</a>
                            </div>
                        </div>
                    </div>

                    <!-- Mobile Menu Button -->
                    <button id="mobileMenuToggle" class="md:hidden p-2 text-text-secondary hover:text-primary transition-colors">
                        <i class="fas fa-bars text-lg"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Search Overlay -->
        <div id="searchOverlay" class="absolute top-full left-0 w-full bg-surface border-b border-gray-200 shadow-editorial-sm hidden">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
                <div class="relative">
                    <input type="text" id="searchInput" placeholder="Search articles, authors, topics..." class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-accent" />
                    <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-text-secondary"></i>
                </div>
                
                <!-- Search Suggestions -->
                <div id="searchSuggestions" class="mt-4 space-y-2">
                    <div class="text-sm text-text-secondary mb-2">Popular searches:</div>
                    <div class="flex flex-wrap gap-2">
                        <span class="px-3 py-1 bg-gray-100 text-text-secondary rounded-full text-sm cursor-pointer hover:bg-gray-200">JavaScript</span>
                        <span class="px-3 py-1 bg-gray-100 text-text-secondary rounded-full text-sm cursor-pointer hover:bg-gray-200">React</span>
                        <span class="px-3 py-1 bg-gray-100 text-text-secondary rounded-full text-sm cursor-pointer hover:bg-gray-200">Web Design</span>
                        <span class="px-3 py-1 bg-gray-100 text-text-secondary rounded-full text-sm cursor-pointer hover:bg-gray-200">AI</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobileMenu" class="md:hidden bg-surface border-t border-gray-200 hidden">
            <div class="px-4 py-4 space-y-4">
                <a href="blog_list_discovery.html" class="block text-accent font-medium">Discover</a>
                <a href="create_edit_blog_post.html" class="block text-text-secondary">Write</a>
                <a href="user_dashboard.html" class="block text-text-secondary">Dashboard</a>
                <hr class="border-gray-200" />
                <a href="user_login.html" class="block text-text-secondary">Sign Out</a>
            </div>
        </div>
    </header>
    {% block content %}{% endblock %}
    <footer class="bg-primary text-white py-8 mt-16 mb-16 md:mb-0">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
            <!-- Brand Section -->
            <div class="md:col-span-1">
                <div class="flex items-center space-x-2 mb-4">
                    <svg class="w-6 h-6 text-accent" viewBox="0 0 32 32" fill="currentColor">
                        <path d="M4 6h24v2H4V6zm0 5h24v2H4v-2zm0 5h16v2H4v-2zm0 5h24v2H4v-2zm20-10v8l4-4-4-4z"/>
                    </svg>
                    <span class="font-heading font-bold text-lg">BlogCraft</span>
                </div>
                <p class="text-gray-300 text-sm">Discover, write, and share amazing stories with our community of passionate writers.</p>
            </div>

            <!-- Quick Links -->
            <div class="md:col-span-1">
                <h4 class="font-heading font-semibold mb-3">Explore</h4>
                <ul class="space-y-2 text-sm">
                    <li><a href="blog_list_discovery.html" class="text-gray-300 hover:text-white transition-colors">Discover</a></li>
                    <li><a href="create_edit_blog_post.html" class="text-gray-300 hover:text-white transition-colors">Write</a></li>
                    <li><a href="user_dashboard.html" class="text-gray-300 hover:text-white transition-colors">Dashboard</a></li>
                </ul>
            </div>

            <!-- Categories -->
            <div class="md:col-span-1">
                <h4 class="font-heading font-semibold mb-3">Categories</h4>
                <ul class="space-y-2 text-sm">
                    <li><a href="javascript:void(0)" class="text-gray-300 hover:text-white transition-colors">Technology</a></li>
                    <li><a href="javascript:void(0)" class="text-gray-300 hover:text-white transition-colors">Design</a></li>
                    <li><a href="javascript:void(0)" class="text-gray-300 hover:text-white transition-colors">Business</a></li>
                    <li><a href="javascript:void(0)" class="text-gray-300 hover:text-white transition-colors">Lifestyle</a></li>
                </ul>
            </div>

            <!-- Social & Contact -->
            <div class="md:col-span-1">
                <h4 class="font-heading font-semibold mb-3">Connect</h4>
                <div class="flex space-x-3 mb-4">
                    <a href="javascript:void(0)" class="text-gray-300 hover:text-white transition-colors">
                        <i class="fab fa-twitter text-lg"></i>
                    </a>
                    <a href="javascript:void(0)" class="text-gray-300 hover:text-white transition-colors">
                        <i class="fab fa-linkedin text-lg"></i>
                    </a>
                    <a href="javascript:void(0)" class="text-gray-300 hover:text-white transition-colors">
                        <i class="fab fa-github text-lg"></i>
                    </a>
                </div>
                <p class="text-gray-300 text-sm">Â© 2025 BlogCraft. All rights reserved.</p>
            </div>
        </div>
    </div>
</footer>


    <!-- Newsletter Banner (Appears after scrolling) -->
    <div id="newsletterBanner" class="fixed bottom-20 md:bottom-6 left-4 right-4 bg-gradient-to-r from-accent to-blue-700 text-white rounded-lg p-4 shadow-editorial-lg transform translate-y-full transition-transform duration-300 z-30">
        <div class="flex items-center justify-between">
            <div class="flex-1">
                <h4 class="font-heading font-semibold text-sm mb-1">Stay in the loop!</h4>
                <p class="text-blue-100 text-xs">Get weekly updates on the latest articles.</p>
            </div>
            <div class="flex items-center space-x-2 ml-4">
                <button class="px-3 py-1 bg-white text-accent text-sm rounded font-medium hover:bg-gray-50 transition-colors">Subscribe</button>
                <button id="closeBanner" class="p-1 text-blue-200 hover:text-white">
                    <i class="fas fa-times text-sm"></i>
                </button>
            </div>
        </div>
    </div>

    <script>
        // Mobile menu toggle
        const mobileMenuToggle = document.getElementById('mobileMenuToggle');
        const mobileMenu = document.getElementById('mobileMenu');
        
        mobileMenuToggle.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // User dropdown toggle
        const userMenuToggle = document.getElementById('userMenuToggle');
        const userDropdown = document.getElementById('userDropdown');
        
        userMenuToggle.addEventListener('click', () => {
            userDropdown.classList.toggle('hidden');
        });

        // Search overlay toggle
        const searchToggle = document.getElementById('searchToggle');
        const searchOverlay = document.getElementById('searchOverlay');
        const searchInput = document.getElementById('searchInput');
        
        searchToggle.addEventListener('click', () => {
            searchOverlay.classList.toggle('hidden');
            if (!searchOverlay.classList.contains('hidden')) {
                searchInput.focus();
            }
        });

        // Close dropdowns when clicking outside
        document.addEventListener('click', (e) => {
            if (!userMenuToggle.contains(e.target) && !userDropdown.contains(e.target)) {
                userDropdown.classList.add('hidden');
            }
            if (!searchToggle.contains(e.target) && !searchOverlay.contains(e.target)) {
                searchOverlay.classList.add('hidden');
            }
        });

        // Load more functionality
        const loadMoreBtn = document.getElementById('loadMoreBtn');
        const loadingSkeleton = document.getElementById('loadingSkeleton');
        
        loadMoreBtn.addEventListener('click', () => {
            // Show loading skeleton
            loadingSkeleton.classList.remove('hidden');
            loadMoreBtn.style.display = 'none';
            
            // Simulate loading delay
            setTimeout(() => {
                loadingSkeleton.classList.add('hidden');
                loadMoreBtn.style.display = 'block';
                // In a real app, you would load more articles here
            }, 2000);
        });

        // Newsletter banner
        const newsletterBanner = document.getElementById('newsletterBanner');
        const closeBanner = document.getElementById('closeBanner');
        let bannerShown = false;

        // Show banner after scrolling
        window.addEventListener('scroll', () => {
            if (window.scrollY > 800 && !bannerShown) {
                newsletterBanner.classList.remove('translate-y-full');
                bannerShown = true;
            }
        });

        // Close banner
        closeBanner.addEventListener('click', () => {
            newsletterBanner.classList.add('translate-y-full');
        });

        // Pull to refresh simulation (mobile)
        let startY = 0;
        let pullDistance = 0;
        const pullThreshold = 100;

        document.addEventListener('touchstart', (e) => {
            startY = e.touches[0].clientY;
        });

        document.addEventListener('touchmove', (e) => {
            if (window.scrollY === 0) {
                pullDistance = e.touches[0].clientY - startY;
                if (pullDistance > 0 && pullDistance < pullThreshold) {
                    // Visual feedback for pull to refresh
                    document.body.style.transform = `translateY(${pullDistance * 0.5}px)`;
                }
            }
        });

        document.addEventListener('touchend', () => {
            if (pullDistance > pullThreshold) {
                // Trigger refresh
                location.reload();
            }
            document.body.style.transform = '';
            pullDistance = 0;
        });

        // Content fade-in animation
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('content-fade-in');
                }
            });
        }, observerOptions);

        // Observe all blog cards
        document.querySelectorAll('article').forEach(card => {
            observer.observe(card);
        });
    </script>
    <script>{% block extra_js %}{% endblock %}</script>
</body>
